<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login ‚Ä¢ VerifyAI</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <style>
        :root {
            --bg-1: #0d0b1f;
            --bg-2: #1a1442;
            --accent: #7c4dff;
            --accent-2: #00e5ff;
            --glow: rgba(124, 77, 255, 0.5);
            --text: #e6e6ff;
            --muted: #b0b3c2;
            --success: #00c853;
            --error: #ff5252;
            --google-blue: #4285f4;
            --google-red: #ea4335;
            --google-yellow: #fbbc05;
            --google-green: #34a853;
        }

        * { box-sizing: border-box; }
        body {
            margin: 0;
            min-height: 100vh;
            color: var(--text);
            font-family: 'Poppins', 'Montserrat', system-ui, -apple-system, sans-serif;
            background: radial-gradient(1200px circle at 10% 10%, #211d4a 0%, var(--bg-1) 35%, var(--bg-2) 100%);
            overflow: hidden;
        }

        /* Animated aurora background */
        .aurora {
            position: fixed;
            inset: 0;
            pointer-events: none;
            filter: blur(40px) saturate(120%);
            z-index: 0;
        }
        .aurora::before, .aurora::after {
            content: "";
            position: absolute;
            width: 60vw; height: 60vw;
            background: radial-gradient(circle at 30% 30%, var(--accent), transparent 60%);
            animation: floatAurora 18s ease-in-out infinite;
            opacity: 0.35;
        }
        .aurora::after {
            left: auto; right: -10vw; top: 10vh;
            background: radial-gradient(circle at 70% 70%, var(--accent-2), transparent 60%);
            animation-delay: -6s;
        }
        @keyframes floatAurora {
            0%, 100% { transform: translateY(0) translateX(0) scale(1); }
            50% { transform: translateY(-4vh) translateX(2vw) scale(1.05); }
        }

        /* Starfield */
        .stars { position: fixed; inset: 0; z-index: 0; }
        .star { position: absolute; width: 2px; height: 2px; background: #fff8; border-radius: 50%; animation: twinkle 3s infinite ease-in-out; }
        @keyframes twinkle { 0%,100% { opacity: .2; } 50% { opacity: 1; } }

        /* Layout */
        .container { position: relative; z-index: 2; display: grid; place-items: center; min-height: 100vh; padding: 2rem; }
        .brand {
            margin-bottom: 1rem;
            display: flex; align-items: center; gap: .75rem;
            letter-spacing: .5px; user-select: none;
        }
        .brand .logo {
            width: 42px; height: 42px; border-radius: 12px;
            background: conic-gradient(from 180deg, var(--accent), var(--accent-2), var(--accent));
            box-shadow: 0 0 30px var(--glow);
            filter: hue-rotate(12deg) saturate(120%);
        }
        .brand .title { font-weight: 700; font-size: 1.25rem; }

        /* Card */
        .card {
            position: relative;
            width: 100%; max-width: 460px;
            padding: 2rem 1.75rem;
            border-radius: 18px;
            background: linear-gradient(180deg, rgba(20,18,45,0.75), rgba(20,18,45,0.65));
            border: 1px solid rgba(124,77,255,0.25);
            box-shadow: 0 30px 80px rgba(0,0,0,.35), inset 0 0 30px rgba(124,77,255,0.12);
            backdrop-filter: blur(16px) saturate(120%);
            transform: perspective(1000px) rotateX(0) rotateY(0);
            transition: transform .2s ease-out, box-shadow .3s ease, border-color .3s ease;
        }
        .card:hover { box-shadow: 0 40px 120px rgba(124,77,255,.25), inset 0 0 40px rgba(124,77,255,0.16); border-color: rgba(124,77,255,0.45); }
        .card .heading {
            font-size: 1.9rem; font-weight: 700; margin-bottom: .25rem;
            background: linear-gradient(90deg, #fff, #c8c8ff 40%, #9fdfff);
            -webkit-background-clip: text; background-clip: text; color: transparent;
        }
        .card .sub { color: var(--muted); font-size: .95rem; margin-bottom: 1.25rem; }

        /* Inputs */
        .field { margin-bottom: 1rem; }
        .label { display: block; font-size: .9rem; margin-bottom: .4rem; color: #cfd2ff; }
        .input {
            width: 100%; padding: .85rem 1rem; border-radius: 12px; border: 1px solid rgba(255,255,255,.15);
            background: rgba(255,255,255,.06); color: #fff; outline: none; font-size: .95rem;
            transition: border .2s ease, box-shadow .2s ease, background .2s ease;
        }
        .input:focus { border-color: var(--accent-2); box-shadow: 0 0 0 4px rgba(0,229,255,.15); background: rgba(255,255,255,.09); }
        .field.password { position: relative; }
        .toggle {
            position: absolute; right: .75rem; top: 50%; transform: translateY(-50%);
            color: #cfd2ff; cursor: pointer; font-size: .95rem; opacity: .8; transition: opacity .2s;
        }
        .toggle:hover { opacity: 1; }

        /* Buttons */
        .btn {
            width: 100%; padding: .9rem 1rem; border-radius: 12px; border: none; cursor: pointer;
            font-weight: 700; letter-spacing: .5px; transition: transform .08s ease, box-shadow .2s ease, background .2s;
        }
        .btn:active { transform: translateY(1px) scale(.995); }
        .btn-primary { background: linear-gradient(90deg, var(--accent), #5d30ff); color: #fff; box-shadow: 0 10px 28px rgba(124,77,255,.35); }
        .btn-primary:hover { box-shadow: 0 16px 44px rgba(124,77,255,.5); }

        .btn-google {
            margin-top: .75rem;
            background: #fff; color: #222; display: flex; align-items: center; justify-content: center; gap: 10px;
            box-shadow: 0 10px 28px rgba(0,0,0,.25);
        }
        .google-icon { display: flex; align-items: center; gap: 6px; }
        .google-icon span { width: 16px; height: 16px; border-radius: 50%; display: inline-block; }
        .google-icon span:nth-child(1) { background: var(--google-blue); }
        .google-icon span:nth-child(2) { background: var(--google-red); }
        .google-icon span:nth-child(3) { background: var(--google-yellow); }
        .google-icon span:nth-child(4) { background: var(--google-green); }
        .btn-google.loading { position: relative; }
        .btn-google.loading::after {
            content: ""; position: absolute; right: 16px; width: 18px; height: 18px; border: 2px solid #0002; border-top-color: var(--accent);
            border-radius: 50%; animation: spin 1s linear infinite;
        }
        @keyframes spin { to { transform: rotate(360deg); } }

        /* Links */
        .links { display: flex; justify-content: space-between; margin-top: .85rem; font-size: .9rem; }
        .links a { color: #9fdfff; text-decoration: none; }
        .links a:hover { text-decoration: underline; }

        /* Micro-interactions */
        .hint { margin-top: .8rem; font-size: .85rem; color: var(--muted); }
        .glimmer {
            position: absolute; inset: -1px; border-radius: inherit; pointer-events: none;
            background: linear-gradient(120deg, transparent 0%, rgba(255,255,255,.12) 25%, transparent 50%);
            mask: linear-gradient(#000, #000 30%, transparent 60%);
            animation: sweep 3.5s ease-in-out infinite;
        }
        @keyframes sweep { 0% { transform: translateX(-60%) } 100% { transform: translateX(60%) } }

        /* Toast */
        .toast { position: fixed; left: 50%; transform: translateX(-50%); bottom: 20px; padding: .75rem 1rem; border-radius: 10px; background: rgba(0,0,0,.6); color: #fff; box-shadow: 0 8px 24px rgba(0,0,0,.35); opacity: 0; pointer-events: none; transition: opacity .3s, transform .3s; }
        .toast.show { opacity: 1; transform: translateX(-50%) translateY(-6px); }

        /* Responsive */
        @media (max-width: 520px) {
            .card { padding: 1.6rem 1.2rem; border-radius: 16px; }
            .card .heading { font-size: 1.7rem; }
        }
    </style>
</head>
<body>
    <div class="aurora"></div>
    <div class="stars" id="stars"></div>
    <div class="container">
        <div class="brand">
            <div class="logo"></div>
            <div class="title">VerifyAI ‚Ä¢ Fake News Detection</div>
        </div>

        <div class="card" id="card">
            <div class="glimmer"></div>
            <div class="heading">Welcome back</div>
            <div class="sub">Sign in to continue your analysis</div>

            <form id="login-form">
                <div class="field">
                    <label class="label" for="email">Email</label>
                    <input class="input" type="email" id="email" placeholder="you@example.com" required>
                </div>

                <div class="field password">
                    <label class="label" for="password">Password</label>
                    <input class="input" type="password" id="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
                    <div class="toggle" id="password-toggle">üëÅÔ∏è</div>
                </div>

                <button class="btn btn-primary" type="submit" id="submit-btn">Login</button>
            </form>

            <!-- Google sign-in below the fields -->
            <div class="social-login">
                <button class="btn btn-google" id="google-login">
                    <div class="google-icon">
                        <span></span><span></span><span></span><span></span>
                    </div>
                    <span>Sign in with Google</span>
                </button>
            </div>

            <div class="links">
                <a href="#" id="forgot-password">Forgot password?</a>
                <a href="#" id="signup">Create account</a>
            </div>

            <div class="hint">By signing in, you agree to our Terms of Service and Privacy Policy.</div>
        </div>
    </div>

    <div class="toast" id="toast"></div>

    <script>
        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyARfUbiC82TQsHKTi-hfKEPLVR790maexA",
            authDomain: "verifyai-1053a.firebaseapp.com",
            projectId: "verifyai-1053a",
            storageBucket: "verifyai-1053a.firebasestorage.app",
            messagingSenderId: "976752504643",
            appId: "1:976752504643:web:043116c43af77b186bc9f6",
            measurementId: "G-0SBXNNFGGB"
        };
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();

        // Starfield generation
        const starsContainer = document.getElementById('stars');
        for (let i = 0; i < 120; i++) {
            const s = document.createElement('div');
            s.className = 'star';
            s.style.left = Math.random() * 100 + '%';
            s.style.top = Math.random() * 100 + '%';
            s.style.animationDelay = (Math.random() * 3) + 's';
            s.style.opacity = (Math.random() * 0.7 + 0.3);
            starsContainer.appendChild(s);
        }

        // Fancy tilt interaction
        const card = document.getElementById('card');
        let rect = null;
        const updateRect = () => rect = card.getBoundingClientRect();
        updateRect();
        window.addEventListener('resize', updateRect);
        card.addEventListener('mousemove', (e) => {
            const x = e.clientX - rect.left - rect.width/2;
            const y = e.clientY - rect.top - rect.height/2;
            const rotX = (y / rect.height) * -8;
            const rotY = (x / rect.width) * 8;
            card.style.transform = `perspective(1000px) rotateX(${rotX}deg) rotateY(${rotY}deg)`;
        });
        card.addEventListener('mouseleave', () => {
            card.style.transform = 'perspective(1000px) rotateX(0) rotateY(0)';
        });

        // Toast helper
        function showToast(msg, type = 'info') {
            const t = document.getElementById('toast');
            t.textContent = msg;
            t.style.background = type === 'error' ? 'rgba(255,82,82,.75)' : type === 'success' ? 'rgba(0,200,83,.75)' : 'rgba(0,0,0,.6)';
            t.classList.add('show');
            setTimeout(() => t.classList.remove('show'), 2200);
        }

        // Password toggle
        const passwordToggle = document.getElementById('password-toggle');
        const passwordInput = document.getElementById('password');
        passwordToggle.addEventListener('click', () => {
            const isText = passwordInput.type === 'text';
            passwordInput.type = isText ? 'password' : 'text';
            passwordToggle.textContent = isText ? 'üëÅÔ∏è' : 'üîí';
        });

        // Form submission
        const loginForm = document.getElementById('login-form');
        const submitBtn = document.getElementById('submit-btn');
        loginForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const email = document.getElementById('email').value.trim();
            const password = document.getElementById('password').value;

            if (!email || !password) {
                showToast('Please fill in all fields', 'error');
                return;
            }

            const original = submitBtn.textContent;
            submitBtn.textContent = 'Signing in‚Ä¶';
            submitBtn.disabled = true;

            auth.signInWithEmailAndPassword(email, password)
                .then((userCredential) => {
                    showToast('Welcome back! Redirecting‚Ä¶', 'success');
                    // Lightweight celebration: subtle glow pulse
                    card.style.boxShadow = '0 40px 120px rgba(124,77,255,.55), inset 0 0 60px rgba(124,77,255,.25)';
                    setTimeout(() => {
                        window.location.href = '../../Main page/index.html';
                    }, 900);
                })
                .catch((error) => {
                    if (error.code === 'auth/unauthorized-domain') {
                        showToast('Unauthorized domain. Add it in Firebase ‚Üí Authentication ‚Üí Settings.', 'error');
                    } else {
                        showToast(error.message || 'Invalid email or password', 'error');
                    }
                    submitBtn.textContent = original;
                    submitBtn.disabled = false;
                });
        });

        // Google login
        const googleLogin = document.getElementById('google-login');
        googleLogin.addEventListener('click', () => {
            googleLogin.classList.add('loading');
            googleLogin.disabled = true;
            const provider = new firebase.auth.GoogleAuthProvider();
            provider.addScope('profile');
            provider.addScope('email');

            auth.signInWithPopup(provider)
                .then((result) => {
                    showToast('Signed in with Google! Redirecting‚Ä¶', 'success');
                    setTimeout(() => {
                        window.location.href = '../../Main page/index.html';
                    }, 900);
                })
                .catch((error) => {
                    if (error.code === 'auth/unauthorized-domain') {
                        showToast('Add your domain in Firebase ‚Üí Auth ‚Üí Authorized domains.', 'error');
                    } else {
                        showToast(error.message || 'Google sign-in failed', 'error');
                    }
                    googleLogin.classList.remove('loading');
                    googleLogin.disabled = false;
                });
        });

        // Helpful links (simulate)
        document.getElementById('forgot-password').addEventListener('click', (e) => {
            e.preventDefault();
            showToast('Password reset link sent (simulation)', 'info');
        });
        document.getElementById('signup').addEventListener('click', (e) => {
            e.preventDefault();
            showToast('Redirecting to signup (simulation)', 'info');
        });
    </script>
</body>
</html>
